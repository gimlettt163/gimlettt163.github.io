[{"title":"HuggingFace学习记录-第二章","path":"/2024/04/22/HuggingFace学习记录-第二章/","content":"管道的内部有两种“使用”“模型”的方式： pipeline model 123456789from transformers import pipelineclassifier = pipeline(&quot;sentiment-analysis&quot;)#可指定模型classifier( [ &quot;I&#x27;ve been waiting for a HuggingFace course my whole life.&quot;, &quot;I hate this so much!&quot;, ]) 模型除了import pipeline外，还可以通过import model的方式调用模型 1234567from transformers import BertConfig, BertModel# Building the configconfig = BertConfig()# Building the model from the configmodel = BertModel(config) 在model &#x3D; BertModel(config)中，参数除了config外，还可以是检查点。 关于检查点有以下需要注意： 同一个模型的不同检查点可以对应不同的任务。也就是说，可以通过指定检查点的方式匹配对应的下游任务。 检查点本质和config文件一样，就是参数。 在模型输入的部分，并不涉及embedding。而是将一个句子拆成tokens，且每一个token用一个数字作为索引。至于将一个token转化为一个向量，是后面embedding的工作。这里只是对句子做拆分，添加开始结束标记。 例如： 123456sequences = [&quot;Hello!&quot;, &quot;Cool.&quot;, &quot;Nice!&quot;]encoded_sequences = [ [101, 7592, 999, 102], [101, 4658, 1012, 102], [101, 3835, 999, 102],] 可以看出，101表示开始，102表示结束，999表示！，1012表示.。其他的7592、4658、3835才是单词对应的数字索引。有些句子可能会出现token量和单词数量不等的情况，是因为token不是简单的分割，而是对单词进行了一些处理，比如分割前后缀等。无论如何，在这一步一个token对应一个数字而不是一个多维向量。 标记器标记器也是可以训练并保存的。from_pretrained和save_pretrained。 标记器是model的其中一步，只不过也可以单独引用。 分词的命令是： 12345678from transformers import AutoTokenizertokenizer = AutoTokenizer.from_pretrained(&quot;bert-base-cased&quot;)sequence = &quot;Using a Transformer network is simple&quot;tokens = tokenizer.tokenize(sequence)————————————————————tokens=[&#x27;Using&#x27;, &#x27;a&#x27;, &#x27;transform&#x27;, &#x27;##er&#x27;, &#x27;network&#x27;, &#x27;is&#x27;, &#x27;simple&#x27;] 上文提到的一个token转化为一个id的命令是： 1ids = tokenizer.convert_tokens_to_ids(tokens) 标记器有三个输出： 1234tokenizer(&quot;Using a Transformer network is simple&quot;)&#123;&#x27;input_ids&#x27;: [101, 7993, 170, 11303, 1200, 2443, 1110, 3014, 102], &#x27;token_type_ids&#x27;: [0, 0, 0, 0, 0, 0, 0, 0, 0], &#x27;attention_mask&#x27;: [1, 1, 1, 1, 1, 1, 1, 1, 1]&#125; token_type_ids用于区分输入序列中的不同部分，使得模型能够知道序列中的标记属于哪个部分。 处理多个序列12ids = tokenizer.convert_tokens_to_ids(tokens)input_ids = torch.tensor(ids) ids可以直接作为model()的输入参数。但model的参数为多个序列，即多个句子。所以要想让单个句子作为输入时，需要添加维度： 123Before:[ 1045, 1005, 2310, 2042, 3403, 2005, 1037, 17662, 12172, 2607, 2026, 2878, 2166, 1012]input_ids = torch.tensor([ids])After:[[ 1045, 1005, 2310, 2042, 3403, 2005, 1037, 17662, 12172, 2607, 2026, 2878, 2166, 1012]] 填充输入假如同时输入两个以上序列，需要保证序列长度相等；长度不够的需要进行填充： 123456padding_id = 100batched_ids = [ [200, 200, 200], [200, 200, padding_id],] 还可以用tokenizer.pad_token_id进行填充： 123456789101112131415161718model = AutoModelForSequenceClassification.from_pretrained(checkpoint)sequence1_ids = [[200, 200, 200]]sequence2_ids = [[200, 200]]batched_ids = [ [200, 200, 200], [200, 200, tokenizer.pad_token_id],]print(model(torch.tensor(sequence1_ids)).logits)tensor([[ 1.5694, -1.3895]], grad_fn=&lt;AddmmBackward&gt;)print(model(torch.tensor(sequence2_ids)).logits)tensor([[ 0.5803, -0.4125]], grad_fn=&lt;AddmmBackward&gt;)print(model(torch.tensor(batched_ids)).logits)tensor([[ 1.5694, -1.3895], [ 1.3373, -1.2163]], grad_fn=&lt;AddmmBackward&gt;) 由结果可以看出，进行充填前后，sequence2_ids.logits的值不同。 这是因为Transformer模型的关键特性是关注层，它将每个标记上下文化。这些将考虑填充标记，因为它们涉及序列中的所有标记。为了在通过模型传递不同长度的单个句子时，或者在传递一批应用了相同句子和填充的句子时获得相同的结果，我们需要告诉这些注意层忽略填充标记。这是通过使用 attention mask来实现的。 输入参数为句子时的充填参数： 123model_inputs = tokenizer(sequences, padding=&quot;longest&quot;)model_inputs = tokenizer(sequences, padding=&quot;max_length&quot;, max_length=8)#max_length=8选填 截断序列： 123456789sequences = [&quot;I&#x27;ve been waiting for a HuggingFace course my whole life.&quot;, &quot;So have I!&quot;]# Will truncate the sequences that are longer than the model max length# (512 for BERT or DistilBERT)model_inputs = tokenizer(sequences, truncation=True)# Will truncate the sequences that are longer than the specified max lengthmodel_inputs = tokenizer(sequences, max_length=8, truncation=True) AttentionMask注意力面具在上例中加入attention_mask： 1234567891011121314batched_ids = [ [200, 200, 200], [200, 200, tokenizer.pad_token_id],]attention_mask = [ [1, 1, 1], [1, 1, 0],]outputs = model(torch.tensor(batched_ids), attention_mask=torch.tensor(attention_mask))print(outputs.logits)tensor([[ 1.5694, -1.3895], [ 0.5803, -0.4125]], grad_fn=&lt;AddmmBackward&gt;) 可以看出这里sequence2_ids.logits为[ 0.5803, -0.4125]，与单独计算sequence2_ids.logits时值相同。","tags":["HuggingFace学习"]},{"title":"对未来的一些想法计划","path":"/2024/04/19/对未来的一些想法计划/","content":"老妈说贪多嚼不烂可是我感兴趣的东西真的好多😭写文、画画还要搞搞同人二创剪辑还有专业的看论文学前端后端大模型要学的东西真的好多好多好多 还想搞文学和创作手工！练文笔，学写诗读书 这些都想牢牢抓住。怎么办怎么办要安排好时间！","tags":["随笔"]},{"title":"《赵树理小说的民间化叙事》读书笔记","path":"/2023/12/09/《赵树理小说的民间化叙事》读书笔记/","content":"最近的一些想法：世界很大，做什么都可以；只要不被一些东西束缚：你觉得这个圈子“应该是什么样”的，但是其实个人的选择还是可以很自由的，你可以选择不和他们一起，因为这还不是战队具体问题具体分析，但是也要找规律，不能每件事情都当新的，也不能犯懒全指望经验，主要是心态。（也许这就是马克思主义吧）当然可以嘴巴一张说啊这不就是xxxx，但是事情总是在变化的，如果想要更深刻深入地认识，还是要具体问题具体分析，而不是粗暴概括，想当然地总结。赵树理还是我非常佩服并且向往成为的作家，但是现在的我还做不到，客观上我现在没有像他那样投身底层的生活的工作，主观上我现在主要兴趣是在一些比较肤浅的事情上。简单来说，我希望成为康奈尔·伍尔里奇那样能够写出精彩的反转情节，人物塑造和刻画又很生动、让人喜欢，创作理念和追求又像赵树理那样，认为文艺应该服务于人名群众。之前想法太极端了，觉得作协都不是好人，但是还是第一条，这个还是看个人选择。虽然文艺现在确实已经被资本主义打败，但是还是完全可以在参与的同时，继续做自己。我知道达不到赵树理那样的高度——觉悟和成就上，但是他还是我非常敬佩并且景仰的作家。我完全可以做自己该做的，这是微不足道的我的微不足道的信念。有独立思考能力的人，是少数中的少数，但是这和每个人都有自己的体会体悟经验、并且这些经验也是值得学习的，并不冲突。不要看别人斩钉截铁就被唬住了，哪怕慢下来被别人笑，也要有自己的判断，哪怕我走的是一条错误的路。我不差。但是要努力、自律、坚持，不然我是无法实现自己的理想、成为理想的自己的。 基本按书的顺序阅读总结。以下正文： 第一章 赵树理自觉的以民间文化为本位的艺术观这一章主要介绍赵树理创作观的形成过程，也就是他是受到什么影响、创作观又是如何一步步改变的，经历了哪些变化，以及他坚持自己“以民间文化为本位的艺术观”的过程中遇到了哪些阻碍。最重要的是，他这样做的意义、他为什么选择了这样一条路。 在赵树理“以民间文化为本位的艺术观”（以下简称“艺术观”）形成前，也就是他读书的这段时间里，他也像其他五四时期的作家一样，“为了艺术而艺术”“艺术至上主义者”“欧化句法”“练成了一口学生腔”（这里反思下我自己，写东西完全不如高中，想不出来用什么词，荒废了七八年没有阅读积累……忏悔……）。这个时期他的作品的特点是，先个人，后革命。也就是个人主义（和现在很像啊，记一下，这一点可以做个对比分析两者内容、手法上的区别）。 可能个人主义是象牙塔的乌托邦，离开学校的赵树理直面那个悲惨年代的现实：烧杀抢掠的军阀、走投无路的人民。这时他认识到了“求生存”必须在“革命”的前提下（当然这个是年代，乱世，普通人的命运就更和国家息息相关。对比现在又是另一种情况）。加上他在学校接受共产主义的影响（当然那时只是种子），离开学校面对现实后，共产主义的种子开始发芽了。 如果说上述是赵树理观念转变的客观条件，毕竟那个年代的黑暗悲惨是所有经历过那个年代的人有目共睹的，“接受共产主义的影响”这个条件则有一定局限：学生、工人，知识分子。那么赵树理没有像其他作家一样，而是走向了自己的艺术观，就是他个人，也就是主观了，这个主观就是他的出身，他生长在农村。虽然不对但我将这种称为“天赋”（一般意义上“天赋”“天才”的说法就很不“马克思”），也就是这个人，就是会选择这条路；他选择这条路，是因为“他”是“他”。为什么要强调这一点，因为我觉得就算有同样一个人，有着和赵树理相同的命运轨迹：生长在农村、目睹民国乱象，接受共产主义的影响，也不一定能成为“赵树理”。 再歪个楼，像赵树理这样的作家，其实还有个条件是，作者本人的思想境界，也很重要，不然也写不出好作品 虽然很多人诟病这个快节奏的时代，碎片化的信息接收，但是这确实是生产力进步的标志……怀念古代慢节奏生活就像吹捧外国人在地铁上看书一样，是他们想吗？同样，赵树理那个年代，他的创作是可以发挥作用的，但是现在，人民群众更愿意接受的可能是短视频 原文摘抄：p3~p7 显然，这时的赵树理，在艺术观上已经有了明确的方向，那就是文化要与现实相结合，文化人要充当“小伙子们”（农民）的引路人。在这种进步的共产主义世界观的指导下，赵树理开始重视艺术对农民大众的启蒙作用。 “新文学的圈子狭小的可怜，真正喜欢看这些东西的人大部分是学习写这样的东西的人，等到学的人也登上了文坛，他写的东西事实上又是给另一些新的人看，让他们也学会这一套，爬上文坛去。这这不过是在极少数的人中间转来转去，从文坛来到文坛去罢了。”这段话结合赵树理在那个圈子受到的冷遇，和就算有毛主席和彭德怀撑腰，他的作品以及理念依然不被文坛以为然的现实，和现在中国文坛文艺高高在上的现状，读来格外引人唏嘘。或许从古至今，中国文人都是这样一种高高在上的姿态吧。 “五四”小说的艺术形式与农民的审美习惯相距甚远 大家应该搞点唱本、蹦蹦，群众花一两个铜板，就可以听书、看戏，得到娱乐，我们要做艺人，到民众中滚去，不要做什么艺术家。 其实赵树理本身还是文学那个范畴的，虽然通俗但还是文学，而不是像康奈尔·伍尔里奇、现在的网文一样的通俗文学。最大的区别就是他的作品还是有比较崇高的主题的，比如破除封建迷信、对革命的赞扬这些。通俗文学涉及不到这样的主题，就算有提及，也是比较肤浅的。 但是何为俗？何为雅？难道农民喜欢的就是粗俗、肤浅、直白、低智的内容吗？我相信绝对不是。但是我还是没能体会到赵树理所说的“农民爱看”的，除了题材、舞台发生在底层外，到底还有什么内容？我觉得这是一个技术的问题，也就是第二章会重点说明的，而不是主题啦这种。 充分尊重农民的审美习惯和审美兴趣。审美习惯和审美兴趣具体是什么？创作者在创作过程中不可能一味迎合；从美学上说，不能因为别人喜欢就做出低俗的内容；从进步角度上说，文艺作品应该引导人变得更加先进，比如不要封建迷信、不要重男轻女，而是应该怎么怎么样。 那种像《悔》和《白马的故事》的欧化句法已经一扫而光，取而代之的是农民熟悉的讲故事的书场格局和口语化的叙述话语；思想内容上也不再流露出阴郁沉闷的情调，而是表现出对黑暗社会的有力控诉和对农民正在觉醒的斗争意识的欣喜。 ……“通俗化”在这个时代时代主题为“救亡”“启蒙”的两个重要内涵：第一应作为“抗战动员的宣传手段”，第二要在普及的基础上“提高大众”，是“新启蒙运动一个组成部分”。他认为“通俗化”应肩负起“救亡”和“启蒙”的双重时代重任。 但当时文艺界的大部分人都反对和鄙视他的主张。甚至主编觉得他“有辱文学形象”，将他调取管伙食了不知道主编看到现在网文大行其道的年代会不会觉得礼崩乐坏。受到同行的排挤、奚落，收获了别有意味的“庙会作家”“快板诗人”的外号。这批人“强调语言的科学化，文体的现代化，对明清以来的通俗章回小说重视不够说轻了，就是瞧不起看不上，瞧不起普通的群众性的文艺，认为太土气”。但赵树理“并没有因为自己势单力薄就缴械投降，而是毫不示弱，全力抗争”“尽管赵树理的大众化思想得到了领导的支持和赞赏，但他的主张还是没有得到文艺界同行的认可”“赵树理也无疑已经成了众矢之的，要在这样的艺术环境中进行通俗化创作并把自己的主张坚守下来，该需要多大的勇气和毅力” 小二黑结婚有彭德怀题字还被压了几个月才出版，你们文坛可真厉害。 ……，在否定了小说的娱乐功能之后，“五四”小说强调“为人生而艺术”的小说，强调文艺对大众的启蒙作用。于是小说在内容上由传统小说对故事性的追求转为对现实生活的理性观照：或用批判的眼光深入社会底层来挖掘国民的劣根性；或从理性的视角思考社会人生的诸多“问题”；或用心理分析的笔触深入人性深处进行理性的道德探索等。而在艺术形式上，“五四”小说毅然抛弃了传统小说全知全能的“说书人”叙述者，而代之以西方现代小说流行的限知视角；语言上也以自创的欧化倾向极浓的现代白话文代替了传统小说的古典白话文；而在结构上则以性格小说、心理小说取代了传统小说以故事为中心的情节小说。所有这些小说的变革，都与习惯于阅读传统小说的普通民众的审美习惯和审美兴趣大相径庭，于是，“五四”小说的接受实际上只停留在知识分子内部，而普通民众早已被阻隔在小说阅读之外。正如瞿秋白所批评的“……只是替欧化的绅商换换口味的鱼翅酒席……”。这样，“五四”小说自身设置了一条民众实在无法跨越的鸿沟，传统小说一直与民众保持的那种亲和力在“五四”小说这儿也被彻底地割断了。“五四以前的中国小说与后来的旧派小说，作者与接受者之间一直保持着直接有效的沟通……现代化以专业分工为重要标志，阅读现代小说已变成一桩需要专门技巧的工作……选自徐德明《中国现代小说雅俗流变与整合》” 有了这种自觉的读者意识，赵树理在小说创作中无论叙事方式、艺术手法还是小说语言都有意采用老百姓喜闻乐见的艺术形式，那种倍感亲切的“说书人”口吻、朴实晓畅的农民口语、有头有尾生动曲折的故事、理想化的大团圆结局、民间艺术形式的巧妙运用以及民俗文化的全方位表现 但是赵树理小说对传统小说的继承，绝不是复归到传统小说仅限于“消遣解闷”的通俗层面，而是完全继承了“五四”小说“为人生的艺术”的传统，它把民主自由的启蒙思想和政治内容通过民众喜闻乐见的艺术形式表现出来，吧思想性和民间性紧密地结合在一起，真正做到了“寓教于乐”，从而也真正实现了“五四”以来一直倡导但始终没有能够实现的文艺大众化。 第二章 赵树理小说叙事的口语化特征从第二章开始就是技术上的分析。从底层，也就是最能直接看出来的层次开始，逐渐往上深入。 第二章我最关心的是内在构成。 内在构成内在构成分为选择和加工。其实这两个也是决定一个作者风格的重要组成。 选择：赵树理选择的是：通俗易懂的惯用词、俗语、绰号等农民语言中的艺术精华；抛弃的是一些不易于传播的方言 加工：赵树理加工基本以“说”为标准，也就是“写进作品里的语言应该尽量跟口头上的语言一样”选自赵树理《和工人习作者谈创作-赵树理全集卷4》.所以，“照着原话写，把不必要的字词句删去，不连贯的地方补起来，以说话为基准，但是要比说话更准确、鲜明、生动。” 言语构成1，俗语：接地气、符合角色和背景；生动凝练，一句抵一万句描写2，方言，但要通俗易懂：感染力强，符合身份，有生活气息；避免“衣服是工农兵，面貌却是小资产阶级”。不懂的话不说，土话不说，不懂的字不用3，绰号：①我国古典小说的艺术经验，生动形象的绰号能展示人物的个性特征，是“人物性格的标志”，②从农民生活习惯上讲，外号往往是一个人的代名词，名字可能被忘记，但外号往往和一个人紧紧绑定在一起。但要注意不能直接照搬生活，要有一定的艺术加工。“赵树理喜欢给人物起外号虽然深受《水浒》的影响，但在艺术性上却是对《水浒》中外号手法的创造性发展。《水浒》中一百零单八将虽然都有诨名，但对外号的应用却并不很成功，因为它们往往只与人物的表面特点相联系，并不能揭示人物个性的本质特征。”“传神的写意画，并不细化须眉，并不写上名字，不过寥寥几笔，而神情毕肖，只要见过被画者的人，一看就知道是谁；夸张了这人的特长——不论优点或弱点，却更知道这是谁。——by鲁迅” 这里插一段书里的补充知识：“圆形人物”和“扁平人物”。扁平人物就是指静态地展示出人物性格最突出的某一面，而没有能够揭示出人物性格的多面性，也不能展示人物性格的发展和变化。但许多经典的角色都是扁平人物，比如水浒传。绰号就是扁平人物的例子。 4，农民口头上的习惯用语忘了哪里看的说赵树理连“了”之类的虚词都用的很少，记一下除了农民口语的惯用语，也包括说书、戏曲中的语言。 语法构成只有语料文本是不够的，语法主要是赵树理是如何组织这些字词句，把它们组合在一起成为作品的。 1，口头常用的简短精炼的习惯句式利落、干练、简短、朗朗上口，不拖泥带水；用短句而不是长句，用“鸡叫”而不是“鸡在叫”善用修辞：顶真2，白描手法描绘人物抓住最主要特征，用最精炼节省的文字，粗线条地勾勒，不加渲染铺陈，鲁迅：“有真意，去粉饰，少做作，勿卖弄”。中国古典白话小说源于书场“说——听”的主要格局，所以为了适应听众的需要，总是尽可能使叙述语言能迅速顺畅地在听众脑袋里转化成鲜明的意向，所以中国古典白话小说勾勒人物动态时多采用白描手法。白描关键：1，捕捉人物最具特征的对话、行动，并用最精炼的语言表现出来；2，少用扮相、穿戴写人，而通过行动和对话写人。3，模仿口语，追求语言的节奏性和韵律性动词的合适重复、叠词利用汉语的优势，既发挥汉语语音的长处，又把农民口语中天然存在的富有韵律美的因素创造性加以组织。“句子短，停顿多，读起来抑扬顿挫、铿锵有力” 第三章 赵树理小说叙事的故事化特征狭义的故事：情节性强、充满戏剧冲突、引人入胜、扣人心弦。如一千零一夜。本雅明《讲故事的人》p291、p295认为故事应该有的特征：1，故事的经验性。即故事应该来源于真实的生活。2，故事的寓意性。“忠告”（升华、格局、或者很多人认为的“说教”内容）：伦理观念；实用建议；“寓于某种谚语或警句”。3，故事的直白性。不应掺杂心理分析，故事要直白、简洁、明快。4，故事的可复述性。给听众留下深刻印象并让听众愿意转述给别人（讨论的空间）。 避免静止地介绍人物和风景；少心理描写和一般描写。静态描写：重在对人物内心和食物情态进行细致入微地描摹状写，所以叙述速度慢，显得呆板冗长。“写风景往往要从故事中人物眼中看出，描写另一个人物的细部往往要从另一些人物的眼中看。” 但实质上，赵树理对通俗故事的自觉追求，并不仅仅是因为通俗故事好听、能懂、有忠告作用等，而是与他内心深处强烈的社会历史使命感密切相关的。赵树理的小说创作主要集中于新民主主义革命时期和社会主义建设初期，在这一时期，农民的思想意识基本上还被根深蒂固的封建落后思想笼罩着，为了从思想上真正地提高他们，赵树理始终把创作的焦点集中在对农民的启蒙上，早在20世纪40年代他就声称，创作就要自觉地“改造大众迷信落后的思想，使大众都能接受新的宇宙观”，“灌输大众以真正的科学知识，扫清流行在大众中间的一些对事务的错误认识”。而由于当时农民的文化知识还只是限于文盲半文盲的水平，农民更认同的是发生在自己身边的感性的人生经验，所以，赵树理自觉地从农民接受出发，……，来向农民宣传进步的思想意识，……。所以，赵树理小说创作对通俗故事的追求，从根本上说，是为了更好地实现他以启蒙民众为核心的通俗化艺术观的。 赵树理的叙事特征1，开头叙事设法交代清楚什么人在做什么事抓住听众注意力 传家宝开头 有个区干部叫李成,全家一共三口人——一个娘,一个老婆,一个他自己。他到区上做工作去,家里只剩下婆媳两个,可是就只两个人,也有些合不来。 除了传家宝式开头外，在保证交代清楚什么人在做什么事的基础上，又借鉴了传统小说、“五四”小说的叙事技法，从而创造出一些既新颖又清晰明了的开头方式： “入话”式开头“入话”原本指，说书人在进入正文前为了等待没到场的听众时讲的一段小故事，内容可以与正文有关，也可以与正文无关。例如《小二黑结婚》开头两个“神仙的忌讳”小故事。吸引了读者，但同时也将小说中的两个主要人物，二诸葛和三仙姑的性格特征鲜明地揭示了出来，并且也引出了小说中的其他几个主要角色。《李有才板话》中，也从李有才变得两个快板，解释了文章主旨，农民和地主之间的斗争。 “从中间写起”式开头这是“五四”小说吸收的西方小说的叙事技巧，开头不直接交代人物和事件，而是从一个场景或事件的横截面写起。这样的开头要抓住小说的故事情节得以展开的核心所在，抓住了核心人物和核心事件，读者自然而然就清楚了故事的主要人物和主要矛盾。 2，巧用线索，增强故事的连贯性和生动性中国传统小说偏重于“纵向”，即从故事发展的时序增强故事的连贯性；而“五四”小说则偏重于“横向”上增强故事主题的连贯性。 中国古代小说“纵向”指的是，遵循故事发展的自然时序，按照一定的线索将故事串联起来，大故事套小故事，小故事推动大故事，环环相扣，这样既使故事情节沿着时间和矛盾线索向前推进，也能使故事显得富有戏剧性。所以在故事中，“线索”是非常重要的，比如《水浒传》以逼上梁山为线索，《西游记》以九九八十一难为线索，《红楼梦》以宝黛的爱情故事为线索。 “五四”小说在线索的运用上与传统小说有所不同。它们往往是将故事的许多横截面串联起来以凸显主旨。 3，在情节发展中巧用“扣子”保留故事中的种种情节来吸引读者。同时避免破坏故事的完整性。“扣子”和悬念、包袱有微妙的不同，可能区别在于扣子的范围和含义是更广泛的，也不要求是非常明显的伏笔。可以是某一个冲突、矛盾的地方。 4，化静为动的“可说性”描写常见小说将叙述故事融化在描写情景中，评书式小说是将描写情景融化在叙述故事中，通过故事中动态的行动和对话把人物的外貌、心理以及环境等静态的东西展现出来。“写风景往往要从故事中人物眼中看到，描写一个人物的细部往往要从另一些人物的眼中看”。 第四章 赵树理小说叙事的民俗化特征"},{"title":"Python 2048代码整理","path":"/2023/11/13/Python-2048代码整理/","content":"蓝桥杯的2048小项目Python 实现 2048 游戏 - Python 实现 2048 游戏 - 蓝桥云课 (lanqiao.cn)，原来的代码是在Linux系统写的，实际上除了安装curses时有点不同（Windows下命令为pip install windows-curses）外，其他并无区别。昨天把单个文件按类拆分了下，然后尝试了打包成exe文件。记录一下。 打包打包是直接用prompt，先定位到文件夹下，然后用Pyinstaller -F -w -i logo.ico main.py。一开始不行，报错nofile这个错误。先记录一下执行时遇到的问题： 试了三种运行方式：一个是直接点击绿色小箭头运行，一个是在终端输入指令python main.py，一个是用cmd。（感觉控制台也是一个办法，但不知道如何写命令）总之三种结果不同。 先说比较简单的终端，改成pytorch环境后执行python main.py，报错：_curses.error: addwstr() returned ERR。原因是位置不够大（……）只要把窗口拉大就可以了；第三种prompt和终端一样就不说了。 然后是直接执行，一直报错ModuleNotFoundError: No module named ‘_curses’，但我感觉不是库的问题，因为可以用cmd执行成功。 回归正题，在打包成exe时，用的是这个教程：别再问我Python打包成exe了（最适合小白的终极解答）！ (zhihu.com)。但是可能因为curses有点问题，所以出现了nofile巴拉巴拉的错误。使用的命令是：Pyinstaller -F -w -i logo.ico main.py。教程说-w是Windows子系统执行，所以尝试删掉了这个，用Pyinstaller -F -i logo.ico main.py，结果成功了。 1234#打包：#Pyinstaller -F -i logo.ico main.py 可以#Pyinstaller -F -w -i logo.ico main.py 不行（报错nofile，和控制台执行一样的_curses错误）# -w表示使用Windows子系统执行 从代码和知识点两部分记录。 代码GameManagerScreenGridAction知识点curses 终端图形编程库参考文档： Python原版介绍：Curses Programming with Python — Python 3.12.0 documentation 汉化：【译】Python Curses 编程 - 简书 (jianshu.com) 知乎的介绍：Python 文本终端 GUI 框架，太酷了吧！ - 知乎 (zhihu.com) 知乎的贪吃蛇教程：Python3实践之：用curses实现《贪食蛇》游戏 - 知乎 (zhihu.com) 根据参考文档，curses用来在终端上显示图形界面，项目中用到的功能是：使用屏幕、使用键盘的功能键、创建和管理一个窗口。 collections 容器数据类型库collections 提供了一个字典的子类 defaultdict。可以指定 key 值不存在时，value 的默认值。 状态机的概念其他random 随机数模块"},{"title":"搭建博客遇到的问题记录","path":"/2023/08/07/搭建博客遇到的问题记录/","content":"这个博客折腾了好久……印象最深的一个bug是因为GitHub的仓库名字没设置好，因为这次没有购买域名，而是直接用仓库名当域名，但设置的时候忘了加github.io，最后折腾了一轮，GitHub Pages上显示的域名链接是用户名.github.io&#x2F;仓库名.github.io，巨长的一串。到最后我也没搞清楚本地git提交的地址、仓库本身地址（也就是Code那里可以复制的HTTPS地址）以及GitHub Pages显示的网站地址之间的关系。 刚开始搭建博客用的是知乎这篇文章：从零开始搭建个人博客（超详细），这里面需要git push和commit提交到git。一开始啥也不懂愣冲，到最后发现一团乱麻（如上述问题）……没办法了只能重新搭一个，这次用了其他的教程，并没有本地git到远程仓库的一部，仅用hexo命令，首先不知道什么时候GitHub的仓库里自动就生成了博客相关的文件夹，但我还不知道这些文件夹什么时候生成的、分别有啥作用，看着非常不顺眼但是也不敢删，只能留到以后慢慢琢磨；另外发现本地修改后，直接hexo g -d就能直接同步到GitHub（至少从文章来看是这样）并同步到个人网站，感觉非常神奇（之前git push和commit命令）。 下面是一些小问题记录： 首先就是GitHub仓库的文件，看着非常不顺眼，尤其是放文章的那个文件夹。年&#x2F;月&#x2F;日&#x2F;文章.md看着真的非常难看，想改成类似本地那样source\\posts\\文章.md那样的结构不知道咋改，搜了一下好像要本地用git命令改，非常麻烦……等我搞清这些文件夹的结构先。 主题太难看了，早晚要自己做个主题！"}]